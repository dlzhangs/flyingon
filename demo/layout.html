<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title></title>
    <script type="text/javascript">
        
        /*
        if (window.console && console.profile)
        {
            console.profile('test');

            setTimeout(function () {

                console.profileEnd('test');

            }, 3000);
        }
        */
        
    </script>
</head>
<body style="padding:10px;">

    <script type="text/javascript" src="../js/flyingon.js"></script>
    
    <script type="text/javascript">
        
        
    flyingon.layout('panel', {

        spacingX: 2,
        spacingY: 2,

        //自适应
        adaption: {

            'width < 400': {

                type: 'vertical-line',
                spacingX: 2,
                spacingY: 2,
                
                //子项定位属性值
                location: {

                    width: 'fill'
                }
            },

            'width < 800': {

                type: 'flow',
                spacingX: 2,
                spacingY: 2
            },


            'width < 1500': {

                type: 'dock',
                spacingX: 20,
                spacingY: 20,
                //mirror: 'y',

                //分割
                partition: [

                    {
                        scale: 10, //固定十个
                        dock: 'left',
                        width: 200,
                        height: 'auto',
                        
                        layout: {
                            
                            type: 'vertical-line',
                            spacingX: 2,
                            spacingY: 2,
                            
                            //子项定位属性值
                            location: {
                             
                                width: 'fill',
                                
                                //不同的条件设置不同的定位属性值
                                condition: {
                                 
                                    'index % 3 === 0': {
                                     
                                        width: 100
                                    },
                                    
                                    'index % 3 === 1': {
                                     
                                        width: 150
                                    }
                                }
                            }
                        }
                    },

                    {
                        scale: 2.2, //固定2个 + 余量20%
                        dock: 'right',
                        width: 'auto',
                        height: 'auto',
                        layout: 'vertical-line'
                    },

                    {
                        scale: 8.8, //固定8个 + 余量80%
                        dock: 'fill',
                        height: 'auto',
                        layout: 'flow'
                    }

                ]

            }
        }

    });


    var panel = new flyingon.Panel().sets({

        id: 'panel',
        width: 1000,
        height: 400,
        border: 1,
        borderStyle: 'solid',
        padding: 8,
        overflowX: 'auto',
        overflowY: 'auto',
        layout: 'panel'
    });


    for (var i = 0; i < 70; i++)
    {
        panel.append(new flyingon.Text().sets({

            id: 'control' + i,
            text: 'text' + i,
            border: 1,
            borderStyle: 'solid',
            textAlign: 'center',
            verticalAlign: 'middle'
        }));
    }

    flyingon.showControl(panel, document.body);


    flyingon.dom_on(document.body, 'mousedown', function (e) {

        var box = panel.viewBox,
            width = box.offsetWidth,
            height = box.offsetHeight;

        flyingon.dom_drag(this, e, null, function dragmove(e) {

            panel.width(width + e.distanceX);
            panel.height(height + e.distanceY);

        }, null, true, true);
    });
        
      
    </script>

</body>
</html>